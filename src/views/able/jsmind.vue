<template>
  <el-card>
    <div class="card-title">åœ¨çº¿ç¼–è¾‘æ€ç»´å¯¼å›¾ğŸ¬ğŸ¬ğŸ¬ğŸ­ğŸ­ğŸ­</div>
    <el-button-group class="ml-4">
      <el-button :icon="Edit" />
      <el-button :icon="Share" />
      <el-button :icon="Delete" />
    </el-button-group>
    <div id="jsmind_container"></div>
  </el-card>
</template>
<script setup>
import "jsmind/style/jsmind.css";
import jsMind from "jsmind/js/jsmind.js";
import { onMounted, ref } from "vue";
import { Edit, Share, Delete, } from "@element-plus/icons-vue";

var options = ref({
    // options å°†åœ¨ä¸‹ä¸€ç« ä¸­è¯¦ç»†ä»‹ç»
    container: "jsmind_container", // [å¿…é€‰] å®¹å™¨çš„IDï¼Œæˆ–è€…ä¸ºå®¹å™¨çš„å¯¹è±¡
    editable: true, // [å¯é€‰] æ˜¯å¦å¯ç”¨ç¼–è¾‘
    theme: null, // [å¯é€‰] ä¸»é¢˜
  direction: "left",
  view: {
    // engine: "canvas", // æ€ç»´å¯¼å›¾å„èŠ‚ç‚¹ä¹‹é—´çº¿æ¡çš„ç»˜åˆ¶å¼•æ“
    hmargin: 15, // æ€ç»´å¯¼å›¾è·å®¹å™¨å¤–æ¡†çš„æœ€å°æ°´å¹³è·ç¦»
    vmargin: 15, // æ€ç»´å¯¼å›¾è·å®¹å™¨å¤–æ¡†çš„æœ€å°å‚ç›´è·ç¦»
    line_width: 2, // æ€ç»´å¯¼å›¾çº¿æ¡çš„ç²—ç»†
    line_color: "#5382de", // æ€ç»´å¯¼å›¾çº¿æ¡çš„é¢œè‰²
  },
  layout: {
    hspace: 30, // èŠ‚ç‚¹ä¹‹é—´çš„æ°´å¹³é—´è·
    vspace: 20, // èŠ‚ç‚¹ä¹‹é—´çš„å‚ç›´é—´è·
    pspace: 20, // èŠ‚ç‚¹ä¸è¿æ¥çº¿ä¹‹é—´çš„æ°´å¹³é—´è·ï¼ˆç”¨äºå®¹çº³èŠ‚ç‚¹æ”¶ç¼©/å±•å¼€æ§åˆ¶å™¨ï¼‰
    cousin_space: 10, // ç›¸é‚»èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¹‹é—´çš„é¢å¤–çš„å‚ç›´é—´è·
  },
});
// const jm = new jsMind({
//   container: "jsmind_container",
//   theme: "orange",
//   editable: true,
// });

onMounted(() => {
    let jm = new jsMind(options.value);
  console.log(jm)
  jm.show({
    meta: {
      name: "jsMind-demo-tree",
      author: "hizzgdev@163.com",
      version: "0.2",
    },
    /* æ•°æ®æ ¼å¼å£°æ˜ */
    format: "node_tree",
    /* æ•°æ®å†…å®¹ */
    data: {
      id: "root",
      topic: "jsMind",
      children: [
        {
          id: ".121",
          topic: "Easy",
          direction: "right",
          expanded: false,
          children: [
            { id: "easy1", topic: "Easy to show" },
            { id: "easy2", topic: "Easy to edit" },
            { id: "easy3", topic: "Easy to store" },
            { id: "easy4", topic: "Easy to embed" },
          ],
        },
        {
          id: "open",
          topic: "Open Source",
          direction: "right",
          expanded: true,
          children: [
            { id: "open1", topic: "on GitHub" },
            { id: "open2", topic: "BSD License" },
          ],
        },
        {
          id: "powerful",
          topic: "Powerful",
          direction: "right",
          children: [
            { id: "powerful1", topic: "Base on Javascript" },
            { id: "powerful2", topic: "Base on HTML5" },
            { id: "powerful3", topic: "Depends on you" },
          ],
        },
        {
          id: "other",
          topic: "test node",
          direction: "right",
          children: [
            { id: "other1", topic: "I'm from local variable" },
            { id: "other2", topic: "I can do everything" },
            { id: "other3", topic: "I can do everything" },
          ],
        },
      ],
    },
  });
});
</script>
<style lang="scss" >
@import './index.scss';
.card-title {
  padding-bottom: 10px;
  font-size: 18px;
  font-weight: bold;
  span {
    color: #673ab7;
    cursor: pointer;
  }
}
#jsmind_container {
  width: 100%;
  height: 80vh;
}
</style>
