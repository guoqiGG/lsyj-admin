var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,t=(a,l,o)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[l]=o,r=(e,r)=>{for(var d in r||(r={}))l.call(r,d)&&t(e,d,r[d]);if(a)for(var d of a(r))o.call(r,d)&&t(e,d,r[d]);return e};import{_ as d,l as u,x as i,y as n}from"./index-d3c82361.js";import"./dayjs-43ef48e6.js";import{V as s}from"./@element-plus-b1a64a18.js";import{f as m,j as p,$ as c,a8 as b,o as v,c as f,V as g,O as h,F as j,u as w,P as y,M as _,a as V,T as x}from"./@vue-476d9f53.js";import"./vue-router-3b718848.js";import"./axios-f45f83e3.js";import"./element-plus-520742f9.js";import"./lodash-es-b6050654.js";import"./@vueuse-53812618.js";import"./@ctrl-eb0b847c.js";import"./async-validator-1193b133.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-eea50788.js";import"./@floating-ui-a9dc73ab.js";import"./echarts-ed669956.js";import"./zrender-93d325f0.js";import"./vuex-9b0668b4.js";import"./js-base64-8ead6284.js";import"./vuex-persistedstate-1d34ce44.js";import"./screenfull-c3c7916b.js";import"./nprogress-fdca1b68.js";import"./@kangc-16b25a8c.js";import"./vue-3198b1a1.js";const U=x("查询"),N=x("重置"),S=x("导出"),z=["onClick"],C={class:"pagination"},k=x("保存"),M=x("关闭");var R=d({setup(e){const a={leaderName:"",leaderMobile:""},l=m(!1),o=m(r({},a)),t=m({pageNo:1,pageSize:20,total:0});let d=m([]);const x=m(!1),R=m({id:0,leaderName:"",leaderMobile:"",leaderStore:"",address:"",commissionRate:""}),O=async()=>{l.value=!0;const e=await u(r(r({},o.value),t.value));l.value=!1,d.value=e.data.list,t.value.total=e.data.total},L=e=>{t.value.pageSize=e,O()},P=e=>{t.value.pageNo=e,O()},I=()=>{x.value=!1,E()},B=async()=>{0===(await i(r({},R.value))).code&&(I(),O())},E=()=>{R.value={id:0,leaderName:"",leaderMobile:"",leaderStore:"",address:"",commissionRate:""}},A=async()=>{l.value=!0;const e=await n();l.value=!1;var a=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});const o="团长信息表",t=document.createElement("a");"download"in t?(t.download=o,t.style.display="none",t.href=URL.createObjectURL(a),document.body.appendChild(t),t.click(),URL.revokeObjectURL(t.href),document.body.removeChild(t)):navigator.msSaveBlob(a,o)};return p((()=>{O()})),(e,u)=>{const i=c("el-input"),n=c("el-form-item"),m=c("el-col"),p=c("el-button"),F=c("el-row"),T=c("el-form"),$=c("el-card"),q=c("el-table-column"),D=c("el-table"),G=c("el-pagination"),H=c("el-input-number"),J=c("el-dialog"),K=b("loading");return v(),f(j,null,[g($,null,{default:h((()=>[g(T,{inline:!0,model:o.value,class:"demo-form-inline","lable-width":"100px"},{default:h((()=>[g(F,null,{default:h((()=>[g(m,{lg:6,md:8,sm:12},{default:h((()=>[g(n,{label:"团长姓名"},{default:h((()=>[g(i,{modelValue:o.value.leaderName,"onUpdate:modelValue":u[0]||(u[0]=e=>o.value.leaderName=e),placeholder:"团长姓名",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),g(m,{lg:6,md:8,sm:12},{default:h((()=>[g(n,{label:"团长号码"},{default:h((()=>[g(i,{modelValue:o.value.leaderMobile,"onUpdate:modelValue":u[1]||(u[1]=e=>o.value.leaderMobile=e),placeholder:"团长号码",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),g(n,null,{default:h((()=>[g(p,{type:"primary",onClick:O},{default:h((()=>[U])),_:1}),g(p,{onClick:u[2]||(u[2]=e=>(o.value=r({},a),void O()))},{default:h((()=>[N])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),g($,{style:{"margin-top":"10px"}},{default:h((()=>[g(p,{icon:w(s),style:{"margin-bottom":"20px"},onClick:A},{default:h((()=>[S])),_:1},8,["icon"]),y((v(),_(D,{data:w(d),style:{width:"100%"},"header-cell-style":{background:"#f7f8fa",color:"#000"}},{default:h((()=>[g(q,{prop:"leaderName",label:"团长姓名",align:"center",width:"80"}),g(q,{prop:"leaderMobile",label:"团长手机",align:"center",width:"120"}),g(q,{prop:"leaderStore",label:"门店名称",width:"220"}),g(q,{prop:"address",label:"门店地址",width:"300"}),g(q,{prop:"commissionRate",label:"佣金比例(0-1)",align:"center",width:"120"}),g(q,{prop:"countUser",label:"用户数",align:"center"}),g(q,{prop:"totalIncome",label:"总收益",align:"center"}),g(q,{prop:"balance",label:"当前余额",align:"center"}),g(q,{prop:"withrawingAmt",label:"正在提余额",align:"center",width:"100"}),g(q,{fixed:"right",label:"操作",width:"120",align:"center"},{default:h((e=>[V("span",{class:"operation",onClick:a=>(e=>{x.value=!0,R.value.id=e.row.puid,R.value.leaderName=e.row.leaderName,R.value.leaderMobile=e.row.leaderMobile,R.value.leaderStore=e.row.leaderStore,R.value.address=e.row.address,R.value.commissionRate=e.row.commissionRate})(e)},"修改团长信息",8,z)])),_:1})])),_:1},8,["data"])),[[K,l.value]]),V("div",C,[g(G,{background:"",layout:"total, sizes, prev, pager, next, jumper","page-size":t.value.pageSize,"onUpdate:page-size":u[3]||(u[3]=e=>t.value.pageSize=e),"current-page":t.value.pageNo,"onUpdate:current-page":u[4]||(u[4]=e=>t.value.pageNo=e),"page-sizes":[10,20,50,100,200,500],total:t.value.total,onSizeChange:L,onCurrentChange:P},null,8,["page-size","current-page","total"])])])),_:1}),g(J,{modelValue:x.value,"onUpdate:modelValue":u[10]||(u[10]=e=>x.value=e),title:"修改团长信息",width:"600px",onClose:E},{default:h((()=>[g(T,{model:R.value,class:"demo-form-inline","lable-width":"100px"},{default:h((()=>[g(n,{label:"团长姓名"},{default:h((()=>[g(i,{modelValue:R.value.leaderName,"onUpdate:modelValue":u[5]||(u[5]=e=>R.value.leaderName=e),placeholder:"团长姓名",clearable:""},null,8,["modelValue"])])),_:1}),g(n,{label:"团长号码"},{default:h((()=>[g(i,{modelValue:R.value.leaderMobile,"onUpdate:modelValue":u[6]||(u[6]=e=>R.value.leaderMobile=e),placeholder:"团长号码",clearable:""},null,8,["modelValue"])])),_:1}),g(n,{label:"门店名称"},{default:h((()=>[g(i,{modelValue:R.value.leaderStore,"onUpdate:modelValue":u[7]||(u[7]=e=>R.value.leaderStore=e),placeholder:"团长姓名",clearable:""},null,8,["modelValue"])])),_:1}),g(n,{label:"门店地址"},{default:h((()=>[g(i,{modelValue:R.value.address,"onUpdate:modelValue":u[8]||(u[8]=e=>R.value.address=e),placeholder:"门店地址",clearable:""},null,8,["modelValue"])])),_:1}),g(n,{label:"佣金比例"},{default:h((()=>[g(H,{modelValue:R.value.commissionRate,"onUpdate:modelValue":u[9]||(u[9]=e=>R.value.commissionRate=e),min:"0",max:"1",step:"0.1",placeholder:"佣金比例",clearable:""},null,8,["modelValue"])])),_:1}),g(n,null,{default:h((()=>[g(p,{type:"primary",onClick:B},{default:h((()=>[k])),_:1}),g(p,{onClick:I},{default:h((()=>[M])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}}},[["__scopeId","data-v-c68a1a2e"]]);export{R as default};
